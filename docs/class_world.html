<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Runaway Monkey: World Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Runaway Monkey
   &#160;<span id="projectnumber">0.3</span>
   </div>
   <div id="projectbrief">Top-Down shooter coded with C++ using SFML.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_world-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">World Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class responsible of holding, updating and drawing all the gameplay elements.  
 <a href="class_world.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="world_8h_source.html">world.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for World:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_world.png" usemap="#World_map" alt=""/>
  <map id="World_map" name="World_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a64c31c6063dddddaa69ff078fcfaac3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_world.html#a64c31c6063dddddaa69ff078fcfaac3f">World</a> (sf::RenderWindow &amp;)</td></tr>
<tr class="memdesc:a64c31c6063dddddaa69ff078fcfaac3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the world.  <a href="#a64c31c6063dddddaa69ff078fcfaac3f">More...</a><br /></td></tr>
<tr class="separator:a64c31c6063dddddaa69ff078fcfaac3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab461d3d5ad03c54dc8bec26b2f43d593"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_world.html#ab461d3d5ad03c54dc8bec26b2f43d593">update</a> (sf::Time)</td></tr>
<tr class="memdesc:ab461d3d5ad03c54dc8bec26b2f43d593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the logic of the elements in play.  <a href="#ab461d3d5ad03c54dc8bec26b2f43d593">More...</a><br /></td></tr>
<tr class="separator:ab461d3d5ad03c54dc8bec26b2f43d593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab51a17ccbb108616daacd0c34973dc8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_world.html#ab51a17ccbb108616daacd0c34973dc8d">draw</a> ()</td></tr>
<tr class="separator:ab51a17ccbb108616daacd0c34973dc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af224b413f30c86ec99d042d0f4df56ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_command_queue.html">CommandQueue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_world.html#af224b413f30c86ec99d042d0f4df56ee">getCommandQueue</a> ()</td></tr>
<tr class="separator:af224b413f30c86ec99d042d0f4df56ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8961980ee0ff3345a32c53bb18ef98e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_actor.html">Actor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_world.html#a8961980ee0ff3345a32c53bb18ef98e6">getPlayer</a> ()</td></tr>
<tr class="separator:a8961980ee0ff3345a32c53bb18ef98e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class responsible of holding, updating and drawing all the gameplay elements. </p>
<p><a class="el" href="class_world.html" title="Class responsible of holding, updating and drawing all the gameplay elements. ">World</a> is where all the nodes in play reside. It is also the responsible of updating the game logic and drawing all drawable objects to screen when issued by the <a class="el" href="class_game.html" title="Class responsible of launching the application and updating the game loop. ">Game</a> class. <a class="el" href="class_world.html" title="Class responsible of holding, updating and drawing all the gameplay elements. ">World</a> holds nodes in a tree structure, by having a root <a class="el" href="class_world_node.html" title="A world node is anything that exists and should be updated in the world. ">WorldNode</a>, which stands on the top of all nodes, and all nodes added to play are appended to it as children or to some previously appended nodes. <a class="el" href="class_world.html" title="Class responsible of holding, updating and drawing all the gameplay elements. ">World</a> updates its nodes starting by the root node, which recursively calls the <a class="el" href="class_world_node.html#a1b0c20fe4e5dde9ce1ada846e450aa2e" title="Updates the node and then recursively updates its children. ">WorldNode::update</a> method on its children. <a class="el" href="class_world.html" title="Class responsible of holding, updating and drawing all the gameplay elements. ">World</a> also keeps track of the command queue (see <a class="el" href="class_command_queue.html" title="Queue of Command objects with custom methods. ">CommandQueue</a>), and is the class that pops the commands from the queue in its <a class="el" href="class_world.html#ab461d3d5ad03c54dc8bec26b2f43d593" title="Updates the logic of the elements in play. ">World::update</a> method and sends them to its root node, which then sends it to its children recursively. <a class="el" href="class_world.html" title="Class responsible of holding, updating and drawing all the gameplay elements. ">World</a> has a pointer to the player actor, which is assigned after it is created. It also keeps track of the spawn points for enemies, and the types of enemies these points will spawn. The world is responsible for handling the logic, as well as the collisions, that occur in the game. <a class="el" href="class_world.html" title="Class responsible of holding, updating and drawing all the gameplay elements. ">World</a> also holds the resource holders with all the necessary resources, which are loaded in the World::loadResources() method. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a64c31c6063dddddaa69ff078fcfaac3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c31c6063dddddaa69ff078fcfaac3f">&#9670;&nbsp;</a></span>World()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">World::World </td>
          <td>(</td>
          <td class="paramtype">sf::RenderWindow &amp;&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for the world. </p>
<p>It initializes the View (see <a href="https://www.sfml-dev.org/documentation/2.0/classsf_1_1View.php">sf::View</a>), the world bounds (the rectangle that limits the world's playable area), sets the player's spawn position, and the enemy spawn rate. It then loads all the resources using resource holders, and builds the world by attaching all necessary sprite nodes and starting entities (like the player actor and the crosshair).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>Reference to the game's RenderWindow.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_resource_holder.html" title="Abstract class to load and hold resources in memory like textures, fonts and sounds. ">ResourceHolder</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab51a17ccbb108616daacd0c34973dc8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab51a17ccbb108616daacd0c34973dc8d">&#9670;&nbsp;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void World::draw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draws every node in the graph to the RenderWindow </p>

</div>
</div>
<a id="af224b413f30c86ec99d042d0f4df56ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af224b413f30c86ec99d042d0f4df56ee">&#9670;&nbsp;</a></span>getCommandQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_command_queue.html">CommandQueue</a> &amp; World::getCommandQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a reference to the world's command queue.</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the world's command queue in its current state.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_command_queue.html" title="Queue of Command objects with custom methods. ">CommandQueue</a> </dd></dl>

</div>
</div>
<a id="a8961980ee0ff3345a32c53bb18ef98e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8961980ee0ff3345a32c53bb18ef98e6">&#9670;&nbsp;</a></span>getPlayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_actor.html">Actor</a> * World::getPlayer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a pointer to the playerActor, which is assigned when it is created in the constructor. </p>

</div>
</div>
<a id="ab461d3d5ad03c54dc8bec26b2f43d593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab461d3d5ad03c54dc8bec26b2f43d593">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void World::update </td>
          <td>(</td>
          <td class="paramtype">sf::Time&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the logic of the elements in play. </p>
<p>It will recursively update all the nodes from the graph, starting from root, calling their respective update functions depending on the node type. It also gets all the commands from the command queue and sends them down the graph, where they will be passed to eventually all the nodes, but only executed by those whose <a class="el" href="namespace_category.html#a2ff936dbd42aeae91fdfb6f8456a8ab0">Category::Type</a> matches the command's category. It also handles collisions between entities, acting accordingly depending on the categories of the colliding entities.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>Time that has passed since the last time the update function was called. It is used by the game logic to update the game independently of FPS.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_command.html" title="Commands handle actions in an abstract way. ">Command</a> </dd>
<dd>
<a class="el" href="class_command_queue.html" title="Queue of Command objects with custom methods. ">CommandQueue</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="world_8h_source.html">world.h</a></li>
<li>src/<a class="el" href="world_8cpp.html">world.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
